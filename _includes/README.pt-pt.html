<div class='toc'>
	<ol class='level-1'>
		<li><a href='#Rotas'>Rotas</a></li>
		<li><a href='#Arquivos%20estticos'>Arquivos estticos</a></li>
		<li><a href='#Views%20/%20Templates'>Views / Templates</a></li>
		<ol class='level-2'>
			<li><a href='#Haml%20Templates'>Haml Templates</a></li>
			<li><a href='#Erb%20Templates'>Erb Templates</a></li>
			<li><a href='#Erubis'>Erubis</a></li>
			<li><a href='#Builder%20Templates'>Builder Templates</a></li>
			<li><a href='#Sass%20Templates'>Sass Templates</a></li>
			<li><a href='#Less%20Templates'>Less Templates</a></li>
			<li><a href='#Templates%20Inline'>Templates Inline</a></li>
			<li><a href='#Acedendo%20a%20Variveis%20nos%20Templates'>Acedendo a Variveis nos Templates</a></li>
			<li><a href='#Templates%20Inline'>Templates Inline</a></li>
			<li><a href='#Templates%20nomeados'>Templates nomeados</a></li>
		</ol>
		<li><a href='#Helpers'>Helpers</a></li>
		<li><a href='#Filtros'>Filtros</a></li>
		<li><a href='#Halting'>Halting</a></li>
		<li><a href='#Passing'>Passing</a></li>
		<li><a href='#Configurao'>Configurao</a></li>
		<li><a href='#Lidar%20com%20Erros'>Lidar com Erros</a></li>
		<ol class='level-2'>
			<li><a href='#No%20Encontrado'>No Encontrado</a></li>
			<li><a href='#Erro'>Erro</a></li>
		</ol>
		<li><a href='#Mime%20Types'>Mime Types</a></li>
		<li><a href='#Middleware%20Rack'>Middleware Rack</a></li>
		<li><a href='#Testando'>Testando</a></li>
		<li><a href='#Sinatra::Base%20-%20Middleware,%20Bibliotecas%20e%20aplicativos%20modulares'>Sinatra::Base - Middleware, Bibliotecas e aplicativos modulares</a></li>
		<li><a href='#Linha%20de%20Comandos'>Linha de Comandos</a></li>
		<li><a href='#A%20ltima%20verso'>A ltima verso</a></li>
		<li><a href='#Mais'>Mais</a></li>
	</ol>
</div>


<p><em>Ateno: Este documento  apenas uma traduo da verso em ingls e
pode estar desatualizado.</em></p>

<p>Sinatra  uma
<a href="http://pt.wikipedia.org/wiki/Linguagem_de_domnio_especfico">DSL</a> para
criar rapidamente aplicaes web em Ruby com o mnimo de esforo:</p>

<pre><code class="ruby"># minhaapp.rb
require &#39;rubygems&#39;
require &#39;sinatra&#39;
get &#39;/&#39; do
  &#39;Ol Mundo!&#39;
end
</code></pre>

<p>Instale a gem e execute com:</p>

<pre><code class="shell">sudo gem install sinatra
ruby minhaapp.rb
</code></pre>

<p>Aceda em: <a href="http://localhost:4567">localhost:4567</a></p>

<a name='Rotas'></a>
<h2>Rotas</h2>

<p>No Sinatra, uma rota  um metodo HTTP associado a uma URL correspondente
padro. Cada rota  associada a um bloco:</p>

<pre><code class="ruby">get &#39;/&#39; do
  .. mostrar algo ..
end

post &#39;/&#39; do
  .. criar algo ..
end

put &#39;/&#39; do
  .. atualizar algo ..
end

delete &#39;/&#39; do
  .. apagar algo ..
end
</code></pre>

<p>Rotas so encontradas na ordem em que so definidas. A primeira rota que
 encontrada invoca o pedido.</p>

<p>Padres de rota podem incluir parmetros nomeados, acessveis atravs da
hash <code>params</code>:</p>

<pre><code class="ruby">get &#39;/ola/:nome&#39; do
  # corresponde a &quot;GET /ola/foo&quot; e &quot;GET /ola/bar&quot;
  # params[:nome]  &#39;foo&#39; ou &#39;bar&#39;
  &quot;Ol #{params[:nome]}!&quot;
end
</code></pre>

<p>Pode tambm aceder a parmetros nomeados atravs do bloco de parmetros:</p>

<pre><code class="ruby">get &#39;/ola/:nome&#39; do |n|
  &quot;Ol #{n}!&quot;
end
</code></pre>

<p>Padres de rota podem tambm incluir parmetros splat (asteriscos),
acessveis atravs do array <code>params[:splat]</code>.</p>

<pre><code class="ruby">get &#39;/diga/*/ao/*&#39; do
  # corresponde a /diga/ola/ao/mundo
  params[:splat] # =&gt; [&quot;ola&quot;, &quot;mundo&quot;]
end

get &#39;/download/*.*&#39; do
  # corresponde a /download/pasta/do/arquivo.xml
  params[:splat] # =&gt; [&quot;pasta/do/arquivo&quot;, &quot;xml&quot;]
end
</code></pre>

<p>Rotas correspondem-se com expresses regulares:</p>

<pre><code class="ruby">get %r{/ola/([\w]+)} do
  &quot;Ol, #{params[:captures].first}!&quot;
end
</code></pre>

<p>Ou com um bloco de parmetro:</p>

<pre><code class="ruby">get %r{/ola/([\w]+)} do |c|
  &quot;Ol, #{c}!&quot;
end
</code></pre>

<p>Rotas podem incluir uma variedade de condies correspondentes, por
exemplo, o agente usurio:</p>

<pre><code class="ruby">get &#39;/foo&#39;, :agent =&gt; /Songbird (\d\.\d)[\d\/]*?/ do
  &quot;Voc est a utilizar a verso #{params[:agent][0]} do Songbird.&quot;
end

get &#39;/foo&#39; do
  # Corresponde a um navegador no Songbird
end
</code></pre>

<a name='Arquivos%20estticos'></a>
<h2>Arquivos estticos</h2>

<p>Arquivos estticos so disponibilizados a partir do directrio
<code>./public</code>. Voc pode especificar um local diferente atravs da opo
<code>:public_folder</code></p>

<pre><code class="ruby">set :public_folder, File.dirname(__FILE__) + &#39;/estatico&#39;
</code></pre>

<p>Note que o nome do directrio pblico no  incluido no URL. Um arquivo
<code>./public/css/style.css</code>  disponibilizado como
<code>http://example.com/css/style.css</code>.</p>

<a name='Views%20/%20Templates'></a>
<h2>Views / Templates</h2>

<p>Templates presumem-se estar localizados sob o directrio <code>./views</code>. Para
utilizar um directrio de views diferente:</p>

<pre><code class="ruby">set :views, File.dirname(__FILE__) + &#39;/modelo&#39;
</code></pre>

<p>Uma coisa importante a ser lembrada  que voc sempre tem as referncias
dos templates como smbolos, mesmo se eles estiverem num sub-directrio
(nesse caso utilize <code>:&#39;subdir/template&#39;</code>). Mtodos de renderizao iro
processar qualquer string passada directamente para elas.</p>

<a name='Haml%20Templates'></a>
<h3>Haml Templates</h3>

<p>A gem/biblioteca haml  necessria para renderizar templates HAML:</p>

<pre><code class="ruby">#  necessrio requerir &#39;haml&#39; na aplicao.
require &#39;haml&#39;

get &#39;/&#39; do
  haml :index
end
</code></pre>

<p>Renderiza <code>./views/index.haml</code>.</p>

<p><a href="http://haml.info/docs/yardoc/file.HAML_REFERENCE.html#options">Opes
Haml</a>
podem ser definidas globalmente atravs das configuraes do sinatra,
veja <a href="http://www.sinatrarb.com/configuration.html">Opes e
Configuraes</a>, e substitua
em uma requisio individual.</p>

<pre><code class="ruby">set :haml, {:format =&gt; :html5 } # o formato padro do Haml  :xhtml

get &#39;/&#39; do
  haml :index, :haml_options =&gt; {:format =&gt; :html4 } # substituido
end
</code></pre>

<a name='Erb%20Templates'></a>
<h3>Erb Templates</h3>

<pre><code class="ruby">#  necessrio requerir &#39;erb&#39; na aplicao.
require &#39;erb&#39;

get &#39;/&#39; do
  erb :index
end
</code></pre>

<p>Renderiza <code>./views/index.erb</code></p>

<a name='Erubis'></a>
<h3>Erubis</h3>

<p>A gem/biblioteca erubis  necessria para renderizar templates erubis:</p>

<pre><code class="ruby">#  necessrio requerir &#39;erubis&#39; na aplicao.
require &#39;erubis&#39;

get &#39;/&#39; do
  erubis :index
end
</code></pre>

<p>Renderiza <code>./views/index.erubis</code></p>

<a name='Builder%20Templates'></a>
<h3>Builder Templates</h3>

<p>A gem/biblioteca builder  necessria para renderizar templates builder:</p>

<pre><code class="ruby">#  necessrio requerir &#39;builder&#39; na aplicao.
require &#39;builder&#39;

get &#39;/&#39; do
  content_type &#39;application/xml&#39;, :charset =&gt; &#39;utf-8&#39;
  builder :index
end
</code></pre>

<p>Renderiza <code>./views/index.builder</code>.</p>

<a name='Sass%20Templates'></a>
<h3>Sass Templates</h3>

<p>A gem/biblioteca sass  necessria para renderizar templates sass:</p>

<pre><code class="ruby">#  necessrio requerir &#39;haml&#39; ou &#39;sass&#39; na aplicao.
require &#39;sass&#39;

get &#39;/stylesheet.css&#39; do
  content_type &#39;text/css&#39;, :charset =&gt; &#39;utf-8&#39;
  sass :stylesheet
end
</code></pre>

<p>Renderiza <code>./views/stylesheet.sass</code>.</p>

<p><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#options">Opes
Sass</a>
podem ser definidas globalmente atravs das configuraes do sinatra,
veja <a href="http://www.sinatrarb.com/configuration.html">Opes e
Configuraes</a>, e substitua
em uma requisio individual.</p>

<pre><code class="ruby">set :sass, {:style =&gt; :compact } # o estilo padro do Sass  :nested

get &#39;/stylesheet.css&#39; do
  content_type &#39;text/css&#39;, :charset =&gt; &#39;utf-8&#39;
  sass :stylesheet, :style =&gt; :expanded # substituido
end
</code></pre>

<a name='Less%20Templates'></a>
<h3>Less Templates</h3>

<p>A gem/biblioteca less  necessria para renderizar templates Less:</p>

<pre><code class="ruby">#  necessrio requerir &#39;less&#39; na aplicao.
require &#39;less&#39;

get &#39;/stylesheet.css&#39; do
  content_type &#39;text/css&#39;, :charset =&gt; &#39;utf-8&#39;
  less :stylesheet
end
</code></pre>

<p>Renderiza <code>./views/stylesheet.less</code>.</p>

<a name='Templates%20Inline'></a>
<h3>Templates Inline</h3>

<pre><code class="ruby">get &#39;/&#39; do
  haml &#39;%div.title Ol Mundo&#39;
end
</code></pre>

<p>Renderiza a string, em uma linha, no template.</p>

<a name='Acedendo%20a%20Variveis%20nos%20Templates'></a>
<h3>Acedendo a Variveis nos Templates</h3>

<p>Templates so avaliados dentro do mesmo contexto que os manipuladores de
rota. Variveis de instncia definidas em rotas manipuladas so
directamente acedidas por templates:</p>

<pre><code class="ruby">get &#39;/:id&#39; do
  @foo = Foo.find(params[:id])
  haml &#39;%h1= @foo.nome&#39;
end
</code></pre>

<p>Ou, especifique um hash explcito para variveis locais:</p>

<pre><code class="ruby">get &#39;/:id&#39; do
  foo = Foo.find(params[:id])
  haml &#39;%h1= foo.nome&#39;, :locals =&gt; { :foo =&gt; foo }
end
</code></pre>

<p>Isso  tipicamente utilizado quando renderizamos templates parciais
(partials) dentro de outros templates.</p>

<a name='Templates%20Inline'></a>
<h3>Templates Inline</h3>

<p>Templates podem ser definidos no final do arquivo fonte(.rb):</p>

<pre><code class="ruby">require &#39;rubygems&#39;
require &#39;sinatra&#39;

get &#39;/&#39; do
  haml :index
end

__END__

@@ layout
%html
  = yield

@@ index
%div.title Ol Mundo!!!!!
</code></pre>

<p>NOTA: Templates inline definidos no arquivo fonte so automaticamente
carregados pelo sinatra. Digite `enable :inline_templates` se tem
templates inline no outro arquivo fonte.</p>

<a name='Templates%20nomeados'></a>
<h3>Templates nomeados</h3>

<p>Templates tambm podem ser definidos utilizando o mtodo top-level
<code>template</code>:</p>

<pre><code class="ruby">template :layout do
  &quot;%html\n  =yield\n&quot;
end

template :index do
  &#39;%div.title Ol Mundo!&#39;
end

get &#39;/&#39; do
  haml :index
end
</code></pre>

<p>Se existir um template com nome layout, ele ser utilizado sempre que
um template for renderizado. Pode desactivar layouts usando
<code>:layout =&gt; false</code>.</p>

<pre><code class="ruby">get &#39;/&#39; do
  haml :index, :layout =&gt; !request.xhr?
end
</code></pre>

<a name='Helpers'></a>
<h2>Helpers</h2>

<p>Use o mtodo de alto nvel <code>helpers</code> para definir mtodos auxiliares
para utilizar em manipuladores de rotas e modelos:</p>

<pre><code class="ruby">helpers do
  def bar(nome)
    &quot;#{nome}bar&quot;
  end
end

get &#39;/:nome&#39; do
  bar(params[:nome])
end
</code></pre>

<a name='Filtros'></a>
<h2>Filtros</h2>

<p>Filtros Before so avaliados antes de cada requisio dentro do contexto
da requisio e podem modificar a requisio e a reposta. Variveis de
instncia definidas nos filtros so acedidas atravs de rotas e
templates:</p>

<pre><code class="ruby">before do
  @nota = &#39;Ol!&#39;
  request.path_info = &#39;/foo/bar/baz&#39;
end

get &#39;/foo/*&#39; do
  @nota #=&gt; &#39;Ol!&#39;
  params[:splat] #=&gt; &#39;bar/baz&#39;
end
</code></pre>

<p>Filtros After so avaliados aps cada requisio dentro do contexto da
requisio e tambm podem modificar o pedido e a resposta. Variveis de
instncia definidas nos filtros before e rotas so acedidas atravs dos
filtros after:</p>

<pre><code class="ruby">after do
  puts response.status
end
</code></pre>

<p>Filtros opcionalmente tm um padro, fazendo com que sejam avaliados
somente se o caminho do pedido coincidir com esse padro:</p>

<pre><code class="ruby">before &#39;/protected/*&#39; do
  autenticar!
end

after &#39;/create/:slug&#39; do |slug|
  session[:last_slug] = slug
end
</code></pre>

<a name='Halting'></a>
<h2>Halting</h2>

<p>Para parar imediatamente uma requisio dentro de um filtro ou rota
utilize:</p>

<pre><code class="ruby">halt
</code></pre>

<p>Pode tambm especificar o status ao parar</p>

<pre><code class="ruby">halt 410
</code></pre>

<p>Ou com um corpo de texto</p>

<pre><code class="ruby">halt &#39;isto ser o corpo de texto&#39;
</code></pre>

<p>Ou tambm</p>

<pre><code class="ruby">halt 401, &#39;vamos embora!&#39;
</code></pre>

<p>Com cabealhos</p>

<pre><code class="ruby">halt 402, {&#39;Content-Type&#39; =&gt; &#39;text/plain&#39;}, &#39;revanche&#39;
</code></pre>

<a name='Passing'></a>
<h2>Passing</h2>

<p>Dentro de uma rota, pode passar para a prxima rota correspondente
usando <code>pass</code>:</p>

<pre><code class="ruby">get &#39;/adivinhar/:quem&#39; do
  pass unless params[:quem] == &#39;Frank&#39;
  &#39;Apanhaste-me!&#39;
end

get &#39;/adivinhar/*&#39; do
  &#39;Falhaste!&#39;
end
</code></pre>

<p>O bloqueio da rota  imediatamente encerrado e o controle continua com a
prxima rota de parmetro. Se o parmetro da rota no for encontrado, um
404  retornado.</p>

<a name='Configurao'></a>
<h2>Configurao</h2>

<p>Correndo uma vez, na inicializao, em qualquer ambiente:</p>

<pre><code class="ruby">configure do
  ...
end
</code></pre>

<p>Correndo somente quando o ambiente (<code>RACK_ENV</code> environment varivel) 
definido para <code>:production</code>:</p>

<pre><code class="ruby">configure :production do
  ...
end
</code></pre>

<p>Correndo quando o ambiente  definido para <code>:production</code> ou <code>:test</code>:</p>

<pre><code class="ruby">configure :production, :test do
  ...
end
</code></pre>

<a name='Lidar%20com%20Erros'></a>
<h2>Lidar com Erros</h2>

<p>Lida-se com erros no mesmo contexto das rotas e filtros before, o que
signifca que <code>haml</code>, <code>erb</code>, etc, esto disponveis.</p>

<a name='No%20Encontrado'></a>
<h3>No Encontrado</h3>

<p>Quando um <code>Sinatra::NotFound</code> exception  levantado, ou o cdigo de
status da reposta  404, o manipulador <code>not_found</code>  invocado:</p>

<pre><code class="ruby">not_found do
  &#39;Isto est longe de ser encontrado&#39;
end
</code></pre>

<a name='Erro'></a>
<h3>Erro</h3>

<p>O manipulador <code>error</code>  invocado sempre que uma exceo  lanada a
partir de um bloco de rota ou um filtro. O objecto da exceo pode ser
obtido a partir da varivel Rack <code>sinatra.error</code>:</p>

<pre><code class="ruby">error do
  &#39;Peo desculpa, houve um erro desagradvel - &#39; + env[&#39;sinatra.error&#39;].name
end
</code></pre>

<p>Erros personalizados:</p>

<pre><code class="ruby">error MeuErroPersonalizado do
  &#39;O que aconteceu foi...&#39; + env[&#39;sinatra.error&#39;].message
end
</code></pre>

<p>Ento, se isso acontecer:</p>

<pre><code class="ruby">get &#39;/&#39; do
  raise MeuErroPersonalizado, &#39;alguma coisa desagradvel&#39;
end
</code></pre>

<p>O resultado ser:</p>

<pre><code>O que aconteceu foi...alguma coisa desagradvel
</code></pre>

<p>Alternativamente, pode definir um manipulador de erro para um cdigo de
status:</p>

<pre><code class="ruby">error 403 do
  &#39;Accesso negado&#39;
end

get &#39;/secreto&#39; do
  403
end
</code></pre>

<p>Ou um range (alcance):</p>

<pre><code class="ruby">error 400..510 do
  &#39;Boom&#39;
end
</code></pre>

<p>O Sinatra define os manipuladores especiais <code>not_found</code> e <code>error</code> quando
corre no ambiente de desenvolvimento.</p>

<a name='Mime%20Types'></a>
<h2>Mime Types</h2>

<p>Quando utilizamos <code>send_file</code> ou arquivos estticos pode ter mime types
Sinatra no entendidos. Use <code>mime_type</code> para os registar por extenso de
arquivos:</p>

<pre><code class="ruby">mime_type :foo, &#39;text/foo&#39;
</code></pre>

<p>Pode tambm utilizar isto com o helper <code>content_type</code>:</p>

<pre><code class="ruby">content_type :foo
</code></pre>

<a name='Middleware%20Rack'></a>
<h2>Middleware Rack</h2>

<p>O Sinatra corre no <a href="http://rack.rubyforge.org/">Rack</a>, uma interface
padro mnima para frameworks web em Ruby. Uma das capacidades mais
interessantes do Rack, para desenvolver aplicaes,  o suporte de
middleware  componentes que residem entre o servidor e a aplicao,
monitorizando e/ou manipulando o pedido/resposta (request/response) HTTP
para providenciar varios tipos de funcionalidades comuns.</p>

<p>O Sinatra torna a construo de pipelines do middleware Rack fcil a um
nvel superior utilizando o mtodo <code>use</code>:</p>

<pre><code class="ruby">require &#39;sinatra&#39;
require &#39;meu_middleware_personalizado&#39;

use Rack::Lint
use MeuMiddlewarePersonalizado

get &#39;/ola&#39; do
  &#39;Ol mundo&#39;
end
</code></pre>

<p>A semntica de <code>use</code>  idntica aquela definida para a DSL
<a href="http://rack.rubyforge.org/doc/classes/Rack/Builder.html">Rack::Builder</a>
(mais frequentemente utilizada para arquivos rackup). Por exemplo, o
mtodo <code>use</code> aceita mltiplos argumentos/variveis, bem como blocos:</p>

<pre><code class="ruby">use Rack::Auth::Basic do |utilizador, senha|
  utilizador == &#39;admin&#39; &amp;&amp; senha == &#39;secreto&#39;
end
</code></pre>

<p>O Rack  distribuido com uma variedade de middleware padres para logs,
debugs, rotas de URL, autenticao, e manipuladores de sesso.Sinatra
utiliza muitos desses componentes automaticamente dependendo da
configurao, por isso, tipicamente nao  necessrio utilizar <code>use</code>
explicitamente.</p>

<a name='Testando'></a>
<h2>Testando</h2>

<p>Testes no Sinatra podem ser escritos utilizando qualquer biblioteca ou
framework de teste baseados no Rack.
<a href="http://gitrdoc.com/brynary/rack-test">Rack::Test</a>  recomendado:</p>

<pre><code class="ruby">require &#39;minha_aplicacao_sinatra&#39;
require &#39;rack/test&#39;

class MinhaAplicacaoTeste &lt; Test::Unit::TestCase
  include Rack::Test::Methods

  def app
    Sinatra::Application
  end

  def meu_test_default
    get &#39;/&#39;
    assert_equal &#39;Ola Mundo!&#39;, last_response.body
  end

  def teste_com_parametros
    get &#39;/atender&#39;, :name =&gt; &#39;Frank&#39;
    assert_equal &#39;Ol Frank!&#39;, last_response.bodymeet
  end

  def test_com_ambiente_rack
    get &#39;/&#39;, {}, &#39;HTTP_USER_AGENT&#39; =&gt; &#39;Songbird&#39;
    assert_equal &quot;Voc est utilizando o Songbird!&quot;, last_response.body
  end
end
</code></pre>

<p>NOTA: Os mdulos de classe embutidos <code>Sinatra::Test</code> e
<code>Sinatra::TestHarness</code> so depreciados na verso 0.9.2.</p>

<a name='Sinatra::Base%20-%20Middleware,%20Bibliotecas%20e%20aplicativos%20modulares'></a>
<h2>Sinatra::Base - Middleware, Bibliotecas e aplicativos modulares</h2>

<p>Definir sua aplicao a um nvel superior de trabalho funciona bem para
micro aplicativos, mas tem considerveis incovenientes na construo de
componentes reutilizveis como um middleware Rack, metal Rails,
bibliotecas simples como um componente de servidor, ou mesmo extenses
Sinatra. A DSL de nvel superior polui o espao do objeto e assume um
estilo de configurao de micro aplicativos (exemplo: um simples arquivo
de aplicao, directrios <code>./public</code> e <code>./views</code>, logs, pgina de detalhes
de excepo, etc.).  onde o Sinatra::Base entra em jogo:</p>

<pre><code class="ruby">require &#39;sinatra/base&#39;

class MinhaApp &lt; Sinatra::Base
  set :sessions, true
  set :foo, &#39;bar&#39;

  get &#39;/&#39; do
    &#39;Ol mundo!&#39;
  end
end
</code></pre>

<p>A classe MinhaApp  um componente Rack independente que pode utilizar
como um middleware Rack, uma aplicao Rack, ou metal Rails. Pode
utilizar ou executar esta classe com um arquivo rackup <code>config.ru</code>;
ou, controlar um componente de servidor fornecendo como biblioteca:</p>

<pre><code class="ruby">MinhaApp.run! :host =&gt; &#39;localhost&#39;, :port =&gt; 9090
</code></pre>

<p>Os mtodos disponveis para subclasses <code>Sinatra::Base</code> so exatamente como
aqueles disponveis via a DSL de nvel superior. Aplicaes de nvel
mais alto podem ser convertidas para componentes <code>Sinatra::Base</code> com duas
modificaes:</p>

<ul>
<li><p>Seu arquivo deve requerer <code>sinatra/base</code> ao invs de <code>sinatra</code>;
outra coisa, todos os mtodos DSL do Sinatra so importados para o
espao principal.</p></li>
<li><p>Coloque as rotas da sua aplicao, manipuladores de erro, filtros e
opes na subclasse de um <code>Sinatra::Base</code>.</p></li>
</ul>

<p><code>Sinatra::Base</code>  um quadro branco. Muitas opes so desactivadas por
padro, incluindo o servidor embutido. Veja <a href="http://sinatra.github.com/configuration.html">Opes e
Configuraes</a> para
detalhes de opes disponveis e seus comportamentos.</p>

<p>SIDEBAR: A DSL de alto nvel do Sinatra  implementada utilizando um simples
sistema de delegao. A classe <code>Sinatra::Application</code>  uma subclasse especial
da <code>Sinatra::Base</code>  recebe todos os <code>:get</code>, <code>:put</code>, <code>:post</code>, <code>:delete</code>,
<code>:before</code>, <code>:error</code>, <code>:not_found</code>, <code>:configure</code>, e <code>:set</code> messages enviados
para o alto nvel. D voc mesmo uma vista de olhos ao cdigo: aqui est o
<a href="http://github.com/sinatra/sinatra/blob/ceac46f0bc129a6e994a06100aa854f606fe5992/lib/sinatra/base.rb#L1128">Sinatra::Delegator
mixin</a>
sendo <a href="http://github.com/sinatra/sinatra/blob/ceac46f0bc129a6e994a06100aa854f606fe5992/lib/sinatra/main.rb#L28">incluido dentro de um espao
principal</a></p>

<a name='Linha%20de%20Comandos'></a>
<h2>Linha de Comandos</h2>

<p>As aplicaes Sinatra podem ser executadas directamente:</p>

<pre><code class="shell">ruby minhaapp.rb [-h] [-x] [-e AMBIENTE] [-p PORTA] [-o HOST] [-s SERVIDOR]
</code></pre>

<p>As opes so:</p>

<pre><code>-h # ajuda
-p # define a porta (padro  4567)
-o # define o host (padro  0.0.0.0)
-e # define o ambiente (padro  development)
-s # especifica o servidor/manipulador rack (padro  thin)
-x # activa o bloqueio (padro  desligado)
</code></pre>

<a name='A%20ltima%20verso'></a>
<h2>A ltima verso</h2>

<p>Se gostaria de utilizar o cdigo da ltima verso do Sinatra, crie um
clone local e execute sua aplicao com o directrio <code>sinatra/lib</code> no
<code>LOAD_PATH</code>:</p>

<pre><code class="shell">cd minhaapp
git clone git://github.com/sinatra/sinatra.git
ruby -I sinatra/lib minhaapp.rb
</code></pre>

<p>Alternativamente, pode adicionar o directrio do <code>sinatra/lib</code> no
<code>LOAD_PATH</code> do seu aplicativo:</p>

<pre><code class="ruby">$LOAD_PATH.unshift File.dirname(__FILE__) + &#39;/sinatra/lib&#39;
require &#39;rubygems&#39;
require &#39;sinatra&#39;

get &#39;/sobre&#39; do
  &quot;Estou correndo a verso&quot; + Sinatra::VERSION
end
</code></pre>

<p>Para actualizar o cdigo do Sinatra no futuro:</p>

<pre><code class="shell">cd meuprojeto/sinatra
git pull
</code></pre>

<a name='Mais'></a>
<h2>Mais</h2>

<ul>
<li><p><a href="http://www.sinatrarb.com/">Website do Projeto</a> - Documentao
adicional, novidades e links para outros recursos.</p></li>
<li><p><a href="http://www.sinatrarb.com/contributing">Contribuir</a> - Encontrou um
bug? Precisa de ajuda? Tem um patch?</p></li>
<li><p><a href="http://github.com/sinatra/sinatra/issues">Acompanhar Questes</a></p></li>
<li><p><a href="http://twitter.com/sinatra">Twitter</a></p></li>
<li><p><a href="http://groups.google.com/group/sinatrarb/topics">Lista de Email</a></p></li>
<li><p>[IRC: #sinatra](irc://chat.freenode.net/#sinatra) em
<a href="http://freenode.net">freenode.net</a></p></li>
</ul>
