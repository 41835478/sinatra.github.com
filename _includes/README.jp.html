<div class='toc'>
	<ol class='level-1'>
		<li><a href='#/'>/</a></li>
		<ol class='level-2'>
			<li><a href='#Haml'>Haml</a></li>
			<li><a href='#Erb'>Erb</a></li>
			<li><a href='#Erubis'>Erubis</a></li>
			<li><a href='#Builder'>Builder</a></li>
			<li><a href='#Sass'>Sass</a></li>
			<li><a href='#Scss'>Scss</a></li>
			<li><a href='#Less'>Less</a></li>
			<li><a href='#Liquid'>Liquid</a></li>
			<li><a href='#Markdown'>Markdown</a></li>
			<li><a href='#Textile'>Textile</a></li>
			<li><a href='#RDoc'>RDoc</a></li>
			<li><a href='#Radius'>Radius</a></li>
			<li><a href='#Markaby'>Markaby</a></li>
			<li><a href='#RABL'>RABL</a></li>
			<li><a href='#Slim'>Slim</a></li>
			<li><a href='#Creole'>Creole</a></li>
			<li><a href='#CoffeeScript'>CoffeeScript</a></li>
		</ol>
		<li><a href='#(Passing)'>(Passing)</a></li>
		<ol class='level-2'>
			<li><a href='#Not%20Found'>Not Found</a></li>
		</ol>
		<li><a href='#MIME'>MIME</a></li>
		<li><a href='#Rack'>Rack</a></li>
		<li><a href='#Sinatra::Base%20-'>Sinatra::Base -</a></li>
		<ol class='level-2'>
			<li><a href='#Sinatra'>Sinatra</a></li>
			<li><a href='#/'>/</a></li>
			<li><a href='#/'>/</a></li>
	</ol></ol>
</div>


<p>*
*</p>

<p><a href="http://ja.wikipedia.org/wiki/">DSL</a></p>

<pre><code># myapp.rb
require &#39;sinatra&#39;
get &#39;/&#39; do
  &#39;Hello world!&#39;
end
</code></pre>

<p>gem</p>

<pre><code>gem install sinatra
ruby myapp.rb
</code></pre>

<p><a href="http://localhost:4567">localhost:4567</a> </p>

<p>SinatraHTTPURL</p>

<pre><code>get &#39;/&#39; do
  ..  ..
end

post &#39;/&#39; do
  ..  ..
end

put &#39;/&#39; do
  ..  ..
end

delete &#39;/&#39; do
  ..  ..
end
</code></pre>

<p><code>params</code></p>

<pre><code>get &#39;/hello/:name&#39; do
  # matches &quot;GET /hello/foo&quot; and &quot;GET /hello/bar&quot;
  # params[:name] is &#39;foo&#39; or &#39;bar&#39;
  &quot;Hello #{params[:name]}!&quot;
end



get &#39;/hello/:name&#39; do |n|
  &quot;Hello #{n}!&quot;
end
</code></pre>

<p>splat()
<code>params[:splat]</code> </p>

<pre><code>get &#39;/say/*/to/*&#39; do
  # matches /say/hello/to/world
  params[:splat] # =&gt; [&quot;hello&quot;, &quot;world&quot;]
end

get &#39;/download/*.*&#39; do
  # matches /download/path/to/file.xml
  params[:splat] # =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]
end
</code></pre>

<p>:</p>

<pre><code>get &#39;/download/*.*&#39; do |path, ext|
  [path, ext] # =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]
end
</code></pre>

<p>:</p>

<pre><code>get %r{/hello/([\w]+)} do
  &quot;Hello, #{params[:captures].first}!&quot;
end
</code></pre>

<p>:</p>

<pre><code>get %r{/hello/([\w]+)} do |c|
  &quot;Hello, #{c}!&quot;
end
</code></pre>

<pre><code>get &#39;/foo&#39;, :agent =&gt; /Songbird (\d\.\d)[\d\/]*?/ do
  &quot;You&#39;re using Songbird version #{params[:agent][0]}&quot;
end

get &#39;/foo&#39; do
  # Matches non-songbird browsers
end
</code></pre>

<p><code>host_name</code><code>provides</code>:</p>

<pre><code>get &#39;/&#39;, :host_name =&gt; /^admin\./ do
  &quot;Admin Area, Access denied!&quot;
end

get &#39;/&#39;, :provides =&gt; &#39;html&#39; do
  haml :index
end

get &#39;/&#39;, :provides =&gt; [&#39;rss&#39;, &#39;atom&#39;, &#39;xml&#39;] do
  builder :feed
end
</code></pre>

<p>:</p>

<pre><code>set(:probability) { |value| condition { rand &lt;= value } }

get &#39;/win_a_car&#39;, :probability =&gt; 0.1 do
  &quot;You won!&quot;
end

get &#39;/win_a_car&#39; do
  &quot;Sorry, you lost.&quot;
end
</code></pre>

<p>HTTPRack</p>

<p>RackRackHTTP
:</p>

<ul>
<li><p>3:
<code>[(Fixnum), (Hash), (#each)]</code></p></li>
<li><p>2:
<code>[(Fixnum), (#each)]</code></p></li>
<li><p><code>#each</code></p></li>
<li><p>Fixnum</p></li>
</ul>

<p>:</p>

<pre><code>class Stream
  def each
    100.times { |i| yield &quot;#{i}\n&quot; }
  end
end

get(&#39;/&#39;) { Stream.new }
</code></pre>

<p><code>./public</code>
<code>:public_folder</code></p>

<pre><code>set :public_folder, File.dirname(__FILE__) + &#39;/static&#39;
</code></pre>

<p>: URL
<code>./public/css/style.css</code><code>http://example.com/css/style.css</code></p>

<a name='/'></a>
<h2>/</h2>

<p><code>./views</code>
:</p>

<pre><code>set :views, File.dirname(__FILE__) + &#39;/templates&#39;
</code></pre>

<p><code>:&#39;subdir/template&#39;</code></p>

<a name='Haml'></a>
<h3>Haml</h3>

<p>hamlhaml:</p>

<pre><code># haml
require &#39;haml&#39;

get &#39;/&#39; do
  haml :index
end
</code></pre>

<p><code>./views/index.haml</code></p>

<p><a href="http://haml.info/docs/yardoc/file.HAML_REFERENCE.html#options">Hamls
options</a>
Sinatra <a href="http://www.sinatrarb.com/configuration.html">Options and
Configurations</a>,</p>

<pre><code>set :haml, {:format =&gt; :html5 } # :xhtml

get &#39;/&#39; do
  haml :index, :haml_options =&gt; {:format =&gt; :html4 } # 
end
</code></pre>

<a name='Erb'></a>
<h3>Erb</h3>

<pre><code># erb
require &#39;erb&#39;

get &#39;/&#39; do
  erb :index
end
</code></pre>

<p><code>./views/index.erb</code></p>

<a name='Erubis'></a>
<h3>Erubis</h3>

<p>erubiserubis:</p>

<pre><code># erubis
require &#39;erubis&#39;

get &#39;/&#39; do
  erubis :index
end
</code></pre>

<p><code>./views/index.erubis</code></p>

<a name='Builder'></a>
<h3>Builder</h3>

<p>builderbuilder:</p>

<pre><code># builder
require &#39;builder&#39;

get &#39;/&#39; do
  builder :index
end
</code></pre>

<p><code>./views/index.builder</code></p>

<p>:</p>

<pre><code># 
require &#39;nokogiri&#39;

get &#39;/&#39; do
  nokogiri :index
end
</code></pre>

<p><code>./views/index.nokogiri</code></p>

<a name='Sass'></a>
<h3>Sass</h3>

<p>Sasssass:</p>

<pre><code># hamlsass
require &#39;sass&#39;

get &#39;/stylesheet.css&#39; do
  sass :stylesheet
end
</code></pre>

<p><code>./views/stylesheet.sass</code></p>

<p><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#options">Sass
options</a>
Sinatra see <a href="http://www.sinatrarb.com/configuration.html">Options and
Configurations</a>,</p>

<pre><code>set :sass, {:style =&gt; :compact } # Sass style :nested

get &#39;/stylesheet.css&#39; do
  sass :stylesheet, :sass_options =&gt; {:style =&gt; :expanded } # 
end
</code></pre>

<a name='Scss'></a>
<h3>Scss</h3>

<p>Scsssass:</p>

<pre><code># hamlsass
require &#39;sass&#39;

get &#39;/stylesheet.css&#39; do
  scss :stylesheet
end
</code></pre>

<p><code>./views/stylesheet.scss</code></p>

<p><a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#options">Sass
options</a>
Sinatra see <a href="http://www.sinatrarb.com/configuration.html">Options and
Configurations</a>,</p>

<pre><code>set :scss, :style =&gt; :compact # Scss style:nested

get &#39;/stylesheet.css&#39; do
  scss :stylesheet, :style =&gt; :expanded # 
end
</code></pre>

<a name='Less'></a>
<h3>Less</h3>

<p>Lessless:</p>

<pre><code># less
require &#39;less&#39;

get &#39;/stylesheet.css&#39; do
  less :stylesheet
end
</code></pre>

<p><code>./views/stylesheet.less</code></p>

<a name='Liquid'></a>
<h3>Liquid</h3>

<p>Liquidliquid:</p>

<pre><code># liquid
require &#39;liquid&#39;

get &#39;/&#39; do
  liquid :index
end
</code></pre>

<p><code>./views/index.liquid</code></p>

<p>LiquidRuby(<code>yield</code>)
locals:</p>

<pre><code>liquid :index, :locals =&gt; { :key =&gt; &#39;value&#39; }
</code></pre>

<a name='Markdown'></a>
<h3>Markdown</h3>

<p>Markdownrdiscount:</p>

<pre><code># rdiscount
require &quot;rdiscount&quot;

get &#39;/&#39; do
  markdown :index
end
</code></pre>

<p><code>./views/index.markdown</code>(<code>md</code><code>mkd</code>)</p>

<p>markdownlocals
:</p>

<pre><code>erb :overview, :locals =&gt; { :text =&gt; markdown(:introduction) }
</code></pre>

<p>markdown:</p>

<pre><code>%h1 Hello From Haml!
%p= markdown(:greetings)
</code></pre>

<a name='Textile'></a>
<h3>Textile</h3>

<p>TextileRedCloth:</p>

<pre><code># redcloth
require &quot;redcloth&quot;

get &#39;/&#39; do
  textile :index
end
</code></pre>

<p><code>./views/index.textile</code></p>

<p>textilelocals
:</p>

<pre><code>erb :overview, :locals =&gt; { :text =&gt; textile(:introduction) }
</code></pre>

<p>textile:</p>

<pre><code>%h1 Hello From Haml!
%p= textile(:greetings)
</code></pre>

<a name='RDoc'></a>
<h3>RDoc</h3>

<p>RDocRDoc:</p>

<pre><code># rdoc/markup/to_html
require &quot;rdoc&quot;
require &quot;rdoc/markup/to_html&quot;

get &#39;/&#39; do
  rdoc :index
end
</code></pre>

<p><code>./views/index.rdoc</code></p>

<p>rdoclocals
:</p>

<pre><code>erb :overview, :locals =&gt; { :text =&gt; rdoc(:introduction) }
</code></pre>

<p>rdoc:</p>

<pre><code>%h1 Hello From Haml!
%p= rdoc(:greetings)
</code></pre>

<a name='Radius'></a>
<h3>Radius</h3>

<p>Radiusradius:</p>

<pre><code># radius
require &#39;radius&#39;

get &#39;/&#39; do
  radius :index
end
</code></pre>

<p><code>./views/index.radius</code></p>

<p>RadiusRuby(<code>yield</code>)
locals:</p>

<pre><code>radius :index, :locals =&gt; { :key =&gt; &#39;value&#39; }
</code></pre>

<a name='Markaby'></a>
<h3>Markaby</h3>

<p>Markabymarkaby:</p>

<pre><code># markaby
require &#39;markaby&#39;

get &#39;/&#39; do
  markaby :index
end
</code></pre>

<p><code>./views/index.mab</code></p>

<a name='RABL'></a>
<h3>RABL</h3>

<p>RABLrabl:</p>

<pre><code># rabl
require &#39;rabl&#39;

get &#39;/&#39; do
  rabl :index
end
</code></pre>

<p><code>./views/index.rabl</code></p>

<a name='Slim'></a>
<h3>Slim</h3>

<p>Slimslim:</p>

<pre><code># slim
require &#39;slim&#39;

get &#39;/&#39; do
  slim :index
end
</code></pre>

<p><code>./views/index.slim</code></p>

<a name='Creole'></a>
<h3>Creole</h3>

<p>Creolecreole:</p>

<pre><code># creole
require &#39;creole&#39;

get &#39;/&#39; do
  creole :index
end
</code></pre>

<p><code>./views/index.creole</code></p>

<a name='CoffeeScript'></a>
<h3>CoffeeScript</h3>

<p>CoffeeScriptcoffee-script`coffee`:</p>

<pre><code># coffee-script
require &#39;coffee-script&#39;

get &#39;/application.js&#39; do
  coffee :application
end
</code></pre>

<p><code>./views/application.coffee</code></p>

<pre><code>get &#39;/&#39; do
  haml &#39;%div.title Hello World&#39;
end
</code></pre>

<p>.</p>

<pre><code>get &#39;/:id&#39; do
  @foo = Foo.find(params[:id])
  haml &#39;%h1= @foo.name&#39;
end



get &#39;/:id&#39; do
  foo = Foo.find(params[:id])
  haml &#39;%h1= foo.name&#39;, :locals =&gt; { :foo =&gt; foo }
end
</code></pre>

<pre><code>require &#39;rubygems&#39;
require &#39;sinatra&#39;

get &#39;/&#39; do
  haml :index
end

__END__

@@ layout
%html
  = yield

@@ index
%div.title Hello world!!!!!
</code></pre>

<p>:
sinatrarequire</p>

<p><code>enable :inline_templates</code></p>

<p><code>template</code></p>

<pre><code>template :layout do
  &quot;%html\n  =yield\n&quot;
end

template :index do
  &#39;%div.title Hello World!&#39;
end

get &#39;/&#39; do
  haml :index
end
</code></pre>

<p>layout
<code>:layout =&gt; false</code>layouts</p>

<pre><code>get &#39;/&#39; do
  haml :index, :layout =&gt; !request.xhr?
end
</code></pre>

<p><code>helpers</code></p>

<pre><code>helpers do
  def bar(name)
    &quot;#{name}bar&quot;
  end
end

get &#39;/:name&#39; do
  bar(params[:name])
end
</code></pre>

<p>before</p>

<pre><code>before do
  @note = &#39;Hi!&#39;
  request.path_info = &#39;/foo/bar/baz&#39;
end

get &#39;/foo/*&#39; do
  @note #=&gt; &#39;Hi!&#39;
  params[:splat] #=&gt; &#39;bar/baz&#39;
end
</code></pre>

<p>after</p>

<p>before
after:</p>

<pre><code>after do
  puts response.status
end
</code></pre>

<p>:</p>

<pre><code>before &#39;/protected/*&#39; do
  authenticate!
end

after &#39;/create/:slug&#39; do |slug|
  session[:last_slug] = slug
end
</code></pre>

<p>before:</p>

<pre><code>halt
</code></pre>

<p>:</p>

<pre><code>halt 410
</code></pre>

<p>body </p>

<pre><code>halt &#39;body&#39;
</code></pre>

<p>body </p>

<pre><code>halt 401, &#39;!&#39;
</code></pre>

<p>:</p>

<pre><code>halt 402, {&#39;Content-Type&#39; =&gt; &#39;text/plain&#39;}, &#39;&#39;
</code></pre>

<a name='(Passing)'></a>
<h2>(Passing)</h2>

<p><code>pass</code>:</p>

<pre><code>get &#39;/guess/:who&#39; do
  pass unless params[:who] == &#39;Frank&#39;
  &quot;!&quot;
end

get &#39;/guess/*&#39; do
  &quot;!&quot;
end
</code></pre>

<p>404</p>

<p>`request`():</p>

<pre><code>#  http://example.com/example 
get &#39;/foo&#39; do
  request.body              # ()
  request.scheme            # &quot;http&quot;
  request.script_name       # &quot;/example&quot;
  request.path_info         # &quot;/foo&quot;
  request.port              # 80
  request.request_method    # &quot;GET&quot;
  request.query_string      # &quot;&quot;
  request.content_length    # request.body
  request.media_type        # request.body
  request.host              # &quot;example.com&quot;
  request.get?              # true ()
  request.form_data?        # false
  request[&quot;SOME_HEADER&quot;]    # SOME_HEADER
  request.referer           # &#39;/&#39;
  request.user_agent        #  (:agent )
  request.cookies           # 
  request.xhr?              # Ajax
  request.url               # &quot;http://example.com/example/foo&quot;
  request.path              # &quot;/example/foo&quot;
  request.ip                # IP
  request.secure?           # false
  request.env               # Rackenv
end
</code></pre>

<p><code>script_name</code><code>path_info</code>:</p>

<pre><code>before { request.path_info = &quot;/&quot; }

get &quot;/&quot; do
  &quot;&quot;
end
</code></pre>

<p><code>request.body</code>IOStringIO:</p>

<pre><code>post &quot;/api&quot; do
  request.body.rewind  # 
  data = JSON.parse request.body.read
  &quot;Hello #{data[&#39;name&#39;]}!&quot;
end
</code></pre>

<pre><code>configure do
  ...
end
</code></pre>

<p>(RACK_ENV)<code>:production</code>:</p>

<pre><code>configure :production do
  ...
end
</code></pre>

<p><code>:production</code><code>:test</code>:</p>

<pre><code>configure :production, :test do
  ...
end
</code></pre>

<p>before
<code>haml</code><code>erb</code><code>halt</code></p>

<a name='Not%20Found'></a>
<h3>Not Found</h3>

<p><code>Sinatra::NotFound</code> 
404<code>not_found</code></p>

<pre><code>not_found do
  &#39;&#39;
end
</code></pre>

<p><code>error</code>
before
Rack<code>sinatra.error</code></p>

<pre><code>error do
  &#39; - &#39; + env[&#39;sinatra.error&#39;].name
end



error MyCustomError do
  &#39;...&#39; + env[&#39;sinatra.error&#39;].message
end
</code></pre>

<p>,</p>

<pre><code>get &#39;/&#39; do
  raise MyCustomError, &#39;&#39;
end
</code></pre>

<p>:</p>

<pre><code>... 
</code></pre>

<p>:</p>

<pre><code>error 403 do
  &#39;Access forbidden&#39;
end

get &#39;/secret&#39; do
  403
end
</code></pre>

<p>:</p>

<pre><code>error 400..510 do
  &#39;Boom&#39;
end
</code></pre>

<p>Sinatra<code>not_found</code><code>error</code></p>

<a name='MIME'></a>
<h2>MIME</h2>

<p><code>send_file</code>SinatraMIME
 <code>mime_type</code> </p>

<pre><code>mime_type :foo, &#39;text/foo&#39;
</code></pre>

<p>content_type:</p>

<pre><code>content_type :foo
</code></pre>

<a name='Rack'></a>
<h2>Rack</h2>

<p><a href="http://rack.rubyforge.org/">SinatraRack</a></p>

<p>Rack
(HTTP
)</p>

<p>Sinatra<code>use</code>
Rack</p>

<pre><code>require &#39;sinatra&#39;
require &#39;my_custom_middleware&#39;

use Rack::Lint
use MyCustomMiddleware

get &#39;/hello&#39; do
  &#39;Hello World&#39;
end
</code></pre>

<p><code>use</code>
<a href="http://rack.rubyforge.org/doc/classes/Rack/Builder.html">Rack::Builder</a>
DSL  <code>use</code></p>

<pre><code>use Rack::Auth::Basic do |username, password|
  username == &#39;admin&#39; &amp;&amp; password == &#39;secret&#39;
end
</code></pre>

<p>RackURL
Sinatra<code>use</code></p>

<p>SinatraRack-based
<a href="http://gitrdoc.com/brynary/rack-test">Rack::Test</a>
:</p>

<pre><code>require &#39;my_sinatra_app&#39;
require &#39;rack/test&#39;

class MyAppTest &lt; Test::Unit::TestCase
  include Rack::Test::Methods

  def app
    Sinatra::Application
  end

  def test_my_default
    get &#39;/&#39;
    assert_equal &#39;Hello World!&#39;, last_response.body
  end

  def test_with_params
    get &#39;/meet&#39;, :name =&gt; &#39;Frank&#39;
    assert_equal &#39;Hello Frank!&#39;, last_response.body
  end

  def test_with_rack_env
    get &#39;/&#39;, {}, &#39;HTTP_USER_AGENT&#39; =&gt; &#39;Songbird&#39;
    assert_equal &quot;Songbird!&quot;, last_response.body
  end
end
</code></pre>

<p>: Sinatra::TestSinatra::TestHarness
0.9.2</p>

<a name='Sinatra::Base%20-'></a>
<h2>Sinatra::Base -</h2>

<p>()
RackRails metal
Sinatra
DSL(:./public./view)
Sinatra::Base</p>

<pre><code>require &#39;sinatra/base&#39;

class MyApp &lt; Sinatra::Base
  set :sessions, true
  set :foo, &#39;bar&#39;

  get &#39;/&#39; do
    &#39;Hello world!&#39;
  end
end
</code></pre>

<p>MyAppRackRackRack
Rails metal<code>config.ru</code> <code>use</code>
 <code>run</code></p>

<pre><code>MyApp.run! :host =&gt; &#39;localhost&#39;, :port =&gt; 9090
</code></pre>

<p>Sinatra::BaseDSL
Sinatra::Base</p>

<ul>
<li>  <code>sinatra</code><code>sinatra/base</code></li>
</ul>

<p>(SinatraDSL)</p>

<ul>
<li>  Sinatra::Base</li>
</ul>

<p><code>Sinatra::Base</code></p>

<p><a href="http://sinatra.github.com/configuration.html">Options and
Configuration</a></p>

<p>:
SinatraDSL(delgation)
<code>Sinatra::Application</code>(Sinatra::Base)
:get :put :post:delete :before:error:not_found
:configure:set messages 
(): <a href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/base.rb#L1064">Sinatra::Delegator
mixin</a>
<a href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/main.rb#L25">included into the main
namespace</a>.</p>

<a name='Sinatra'></a>
<h3>Sinatra</h3>

<p>SinatraRack
SinatraRack</p>

<p>SinatraRack(Rails/Ramaze/Camping/)</p>

<pre><code>require &#39;sinatra/base&#39;

class LoginScreen &lt; Sinatra::Base
  enable :sessions

  get(&#39;/login&#39;) { haml :login }

  post(&#39;/login&#39;) do
    if params[:name] = &#39;admin&#39; and params[:password] = &#39;admin&#39;
      session[&#39;user_name&#39;] = params[:name]
    else
      redirect &#39;/login&#39;
    end
  end
end

class MyApp &lt; Sinatra::Base
  # middleware will run before filters
  use LoginScreen

  before do
    unless session[&#39;user_name&#39;]
      halt &quot;Access denied, please &lt;a href=&#39;/login&#39;&gt;login&lt;/a&gt;.&quot;
    end
  end

  get(&#39;/&#39;) { &quot;Hello #{session[&#39;user_name&#39;]}.&quot; }
end
</code></pre>

<a name='/'></a>
<h3>/</h3>

<p>SinatraSinatra::Base
DSL(<code>require &#39;sinatra&#39;</code>)Sinatra::Application</p>

<p>`get``before`
`request``session`1</p>

<p>`set`:</p>

<pre><code>class MyApp &lt; Sinatra::Base
  # Hey, I&#39;m in the application scope!
  set :foo, 42
  foo # =&gt; 42

  get &#39;/foo&#39; do
    # Hey, I&#39;m no longer in the application scope!
  end
end
</code></pre>

<p>:</p>

<ul>
<li></li>
<li></li>
<li><p>`helpers`</p></li>
<li><p>`set`Proc</p></li>
</ul>

<p>():</p>

<ul>
<li><p>configure(<code>configure { |c| ... }</code>)</p></li>
<li><p>`settings`</p></li>
</ul>

<a name='/'></a>
<h3>/</h3>

<p>`request``session``erb``haml`
`settings`</p>

<pre><code>class MyApp &lt; Sinatra::Base
  # Hey, I&#39;m in the application scope!
  get &#39;/define_route/:name&#39; do
    # Request scope for &#39;/define_route/:name&#39;
    @value = 42

    settings.get(&quot;/#{params[:name]}&quot;) do
      # Request scope for &quot;/#{params[:name]}&quot;
      @value # =&gt; nil (not the same request)
    end

    &quot;Route defined!&quot;
  end
end
</code></pre>

<p>:</p>

<ul>
<li><p>get/head/post/put/delete </p></li>
<li><p>before/after </p></li>
<li><p>helper </p></li>
<li><p>/</p></li>
</ul>

<p>:
/(:
`self`)
<code>Sinatra::Delegator.delegate :method_name</code></p>

<p>:</p>

<ul>
<li><p><code>require &quot;sinatra&quot;</code></p></li>
<li><p>`Sinatra::Delegator` mixinextend</p></li>
</ul>

<p>:  <a href="http://github.com/sinatra/sinatra/blob/ceac46f0bc129a6e994a06100aa854f606fe5992/lib/sinatra/base.rb#L1128">Sinatra::Delegator
mixin</a>
<a href="http://github.com/sinatra/sinatra/blob/ceac46f0bc129a6e994a06100aa854f606fe5992/lib/sinatra/main.rb#L28">main
include</a>.</p>

<p>Sinatra</p>

<pre><code>ruby myapp.rb [-h] [-x] [-e ENVIRONMENT] [-p PORT] [-o HOST] [-s HANDLER]
</code></pre>

<p>:</p>

<pre><code>-h # 
-p # (4567)
-o # (0.0.0.0)
-e #  (development)
-s # rackserver/handler (thin)
-x # mutex lock (off)
</code></pre>

<p>Sinatra
<code>LOAD_PATH</code><code>sinatra/lib</code></p>

<pre><code>cd myapp
git clone git://github.com/sinatra/sinatra.git
ruby -Isinatra/lib myapp.rb
</code></pre>

<p><code>sinatra/lib</code><code>LOAD_PATH</code></p>

<pre><code>$LOAD_PATH.unshift File.dirname(__FILE__) + &#39;/sinatra/lib&#39;
require &#39;rubygems&#39;
require &#39;sinatra&#39;

get &#39;/about&#39; do
  &quot;&quot; + Sinatra::VERSION
end
</code></pre>

<p>Sinatra:</p>

<pre><code>cd myproject/sinatra
git pull
</code></pre>

<ul>
<li><p><a href="http://mono.kmc.gr.jp/%7Eyhara/w/?RackReferenceJa">Greenbear Laboratory
Rack</a></p>

<ul>
<li>Rack</li>
</ul></li>
<li><p><a href="http://sinatra.github.com/"></a> - </p></li>
<li><p><a href="http://sinatra.github.com/contributing.html">()</a></p>

<ul>
<li> </li>
</ul></li>
<li><p><a href="http://github.com/sinatra/sinatra/issues">Issue tracker</a> -</p></li>
<li><p><a href="http://twitter.com/sinatra">Twitter</a></p></li>
<li><p><a href="http://groups.google.com/group/sinatrarb"></a></p></li>
<li><p>[IRC: #sinatra](irc://chat.freenode.net/#sinatra) on
<a href="http://freenode.net">freenode.net</a></p></li>
</ul>
