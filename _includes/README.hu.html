<div class='toc'>
	<ol class='level-1'>
		<li><a href='#tvonalak%20(routes)'>tvonalak (routes)</a></li>
		<li><a href='#Statikus%20llomnyok'>Statikus llomnyok</a></li>
		<li><a href='#Nzetek%20s%20Sablonok'>Nzetek s Sablonok</a></li>
		<ol class='level-2'>
			<li><a href='#Haml%20sablonok'>Haml sablonok</a></li>
			<li><a href='#Erb%20sablonok'>Erb sablonok</a></li>
			<li><a href='#Builder%20sablonok'>Builder sablonok</a></li>
			<li><a href='#Sass%20sablonok'>Sass sablonok</a></li>
			<li><a href='#Begyazott%20sablonok'>Begyazott sablonok</a></li>
			<li><a href='#Vltozk%20elrse%20a%20sablonokban'>Vltozk elrse a sablonokban</a></li>
			<li><a href='#Fjlon%20belli%20sablonok'>Fjlon belli sablonok</a></li>
			<li><a href='#Kulcsszavas%20sablonok'>Kulcsszavas sablonok</a></li>
		</ol>
		<li><a href='#Helperek'>Helperek</a></li>
		<li><a href='#Szrk%20(filters)'>Szrk (filters)</a></li>
		<li><a href='#Megllts'>Megllts</a></li>
		<li><a href='#Passzols'>Passzols</a></li>
		<li><a href='#Belltsok'>Belltsok</a></li>
		<li><a href='#Hibakezels'>Hibakezels</a></li>
		<ol class='level-2'>
			<li><a href='#Nem%20tallhat'>Nem tallhat</a></li>
			<li><a href='#Hiba'>Hiba</a></li>
		</ol>
		<li><a href='#Mime%20tpusok'>Mime tpusok</a></li>
		<li><a href='#Rack%20Middleware'>Rack Middleware</a></li>
		<li><a href='#Tesztels'>Tesztels</a></li>
		<li><a href='#Sinatra::Base%20-%20Middleware-ek,%20knyvtrak%20s%20modulris%20alkalmazsok'>Sinatra::Base - Middleware-ek, knyvtrak s modulris alkalmazsok</a></li>
		<li><a href='#Parancssori%20lehetsgek'>Parancssori lehetsgek</a></li>
		<li><a href='#Fejleszti%20vltozat'>Fejleszti vltozat</a></li>
		<li><a href='#Tovbbi%20informcik'>Tovbbi informcik</a></li>
	</ol>
</div>


<p><em>Fontos megjegyzs: Ez a dokumentum csak egy fordtsa az angol nyelv
vltozat, s lehet, hogy nem napraksz.</em></p>

<p>A Sinatra egy <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>
webalkalmazsok Ruby nyelven trtn fejlesztshez, minimlis
energiabefektetssel:</p>

<pre><code class="ruby">  # myapp.rb
  require &#39;sinatra&#39;
  get &#39;/&#39; do
    &#39;Hell Vilg!&#39;
  end
</code></pre>

<p>Teleptsd a gem-et s indtsd el az alkalmazst a kvetkezkppen:</p>

<pre><code class="ruby">  sudo gem install sinatra
  ruby myapp.rb
</code></pre>

<p>Az alkalmazs elrhet lesz itt: <code>http://localhost:4567</code></p>

<a name='tvonalak%20(routes)'></a>
<h2>tvonalak (routes)</h2>

<p>A Sinatrban az tvonalat egy HTTP metdus s egy URL-re illeszked minta
prosa alkotja. Minden egyes tvonalhoz tartozik egy blokk:</p>

<pre><code class="ruby">  get &#39;/&#39; do
    .. megjelentnk valamit ..
  end

  post &#39;/&#39; do
    .. ltrehozunk valamit ..
  end

  put &#39;/&#39; do
    .. frisstnk valamit ..
  end

  delete &#39;/&#39; do
    .. trlnk valamit ..
  end
</code></pre>

<p>Az tvonalak illeszkedst a rendszer a definilsuk sorrendjben
ellenrzi. Sorrendben mindig az els illeszked tvonalhoz tartoz metdus kerl
meghvsra.</p>

<p>Az tvonalmintk tartalmazhatnak paramtereket is, melyeket a <code>params</code>
hash-bl rhetnk el:</p>

<pre><code class="ruby">  get &#39;/hello/:name&#39; do
    # illeszkedik a &quot;GET /hello/foo&quot; s a &quot;GET /hello/bar&quot; tvonalakra
    # ekkor params[:name] rtke &#39;foo&#39; vagy &#39;bar&#39; lesz
    &quot;Hell #{params[:name]}!&quot;
  end
</code></pre>

<p>A kulcsszavas argumentumokat (named parameters) blokk paramterek tjn
is el tudod rni:</p>

<pre><code class="ruby">  get &#39;/hello/:name&#39; do |n|
    &quot;Hell #{n}!&quot;
  end
</code></pre>

<p>Az tvonalmintkban szerepelhetnek joker paramterek is, melyeket a 
<code>params[:splat]</code> tmbn keresztl tudunk elrni.</p>

<pre><code class="ruby">  get &#39;/say/*/to/*&#39; do
    # illeszkedik a /say/hello/to/world mintra
    params[:splat] # =&gt; [&quot;hello&quot;, &quot;world&quot;]
  end

  get &#39;/download/*.*&#39; do
    # illeszkedik a /download/path/to/file.xml mintra
    params[:splat] # =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]
  end
</code></pre>

<p>Regulris kifejezseket is felvehetnk az tvonalba:</p>

<pre><code class="ruby">  get %r{/hello/([\w]+)} do
    &quot;Hell, #{params[:captures].first}!&quot;
  end
</code></pre>

<p>Vagy blokk paramtereket:</p>

<pre><code class="ruby">  get %r{/hello/([\w]+)} do |c|
    &quot;Hell, #{c}!&quot;
  end
</code></pre>

<p>Az tvonalak azonban szmos egyb illeszkedsi felttel szerint is
tervezhetk, gy pldul az user agent karakterlncot alapul vve:</p>

<pre><code class="ruby">  get &#39;/foo&#39;, :agent =&gt; /Songbird (\d\.\d)[\d\/]*?/ do
    &quot;A Songbird #{params[:agent][0]} verzijt hasznlod&quot;
  end

  get &#39;/foo&#39; do
    # illeszkedik az egyb user agentekre
  end
</code></pre>

<a name='Statikus%20llomnyok'></a>
<h2>Statikus llomnyok</h2>

<p>A statikus fjlok kiszolglsa a <code>./public</code> knyvtrbl
trtnik, de termszetesen ms knyvtrat is megadhatsz erre a clra,
mgpedig a :public_folder kapcsol belltsval:</p>

<p>set :public<em>folder, File.dirname(</em><em>FILE</em>_) + &#39;/static&#39;</p>

<p>Fontos mgejegyezni, hogy a nyilvnos knyvtr neve nem szerepel az URL-ben.
A ./public/css/style.css fjl az
<code>http://example.com/css/style.css</code> URL-en lesz elrhet.</p>

<a name='Nzetek%20s%20Sablonok'></a>
<h2>Nzetek s Sablonok</h2>

<p>A sablonfjlokat rendszerint a  <code>./views</code> knyvtrba helyezzk, de
itt is lehetsg nylik egyb knyvtr hasznlatra:</p>

<p>set :views, File.dirname(<strong>FILE</strong>) + &#39;/templates&#39;</p>

<p>Nagyon fontos szben tartani, hogy a sablononkra mindig szimblumokkal
hivatkozunk, mg akkor is, ha egyb (ebben az esetben a 
:&#39;subdir/template&#39;) knyvtrban troljuk ket. A renderel
metdusok minden, nekik kzvetlenl tadott karakterlncot megjelentenek.</p>

<a name='Haml%20sablonok'></a>
<h3>Haml sablonok</h3>

<p>HAML sablonok renderelshez szksgnk lesz a haml gem-re vagy knyvtrra:</p>

<pre><code class="ruby">  # Importljuk be a haml-t az alkalmazsba
  require &#39;haml&#39;

  get &#39;/&#39; do
    haml :index
  end
</code></pre>

<p>Ez szpen lerendereli a <code>./views/index.haml</code> sablont.</p>

<p>A <a href="http://haml.hamptoncatlin.com/docs/rdoc/classes/Haml.html">Haml kapcsoli</a>
globlisan is bellthatk a Sinatra konfigurcii kztt, lsd az
<a href="http://www.sinatrarb.com/configuration.html">Options and Configurations</a> lapot.
A globlis belltsokat lehetsgnk van fellrni metdus szinten is.</p>

<pre><code class="ruby">  set :haml, {:format =&gt; :html5 } # az alaprtelmezett Haml formtum az :xhtml

  get &#39;/&#39; do
    haml :index, :haml_options =&gt; {:format =&gt; :html4 } # immr fellrva
  end
</code></pre>

<a name='Erb%20sablonok'></a>
<h3>Erb sablonok</h3>

<p># Importljuk be az erb-t az alkalmazsba</p>

<pre><code class="ruby">  require &#39;erb&#39;

  get &#39;/&#39; do
    erb :index
  end
</code></pre>

<p>Ez a <code>./views/index.erb</code> sablont fogja lerenderelni.</p>

<a name='Builder%20sablonok'></a>
<h3>Builder sablonok</h3>

<p>Szksgnk lesz a builder gem-re vagy knyvtrra a builder sablonok
renderelshez:</p>

<p># Importljuk be a builder-t az alkalmazsba</p>

<pre><code class="ruby">  require &#39;builder&#39;

  get &#39;/&#39; do
    builder :index
  end
</code></pre>

<p>Ez pedig a <code>./views/index.builder</code> llomnyt fogja renderelni.</p>

<a name='Sass%20sablonok'></a>
<h3>Sass sablonok</h3>

<p>Sass sablonok hasznlathoz szksg lesz a haml gem-re vagy knyvtrra:</p>

<p># Be kell importlni a haml, vagy a sass knyvtrat</p>

<pre><code class="ruby">  require &#39;sass&#39;

  get &#39;/stylesheet.css&#39; do
    sass :stylesheet
  end
</code></pre>

<p>gy a <code>./views/stylesheet.sass</code> fjl mris renderelhet.</p>

<p>A <a href="http://haml.hamptoncatlin.com/docs/rdoc/classes/Sass.html">Sass kapcsoli</a>
globlisan is bellthatk a Sinatra konfigurcii kztt, lsd az
<a href="http://www.sinatrarb.com/configuration.html">Options and Configurations</a> lapot.
A globlis belltsokat lehetsgnk van fellrni metdus szinten is.</p>

<pre><code class="ruby">  set :sass, {:style =&gt; :compact } # az alaprtelmezett Sass stlus a :nested

  get &#39;/stylesheet.css&#39; do
    sass :stylesheet, :sass_options =&gt; {:style =&gt; :expanded } # fellrva
  end
</code></pre>

<a name='Begyazott%20sablonok'></a>
<h3>Begyazott sablonok</h3>

<pre><code class="ruby">  get &#39;/&#39; do
    haml &#39;%div.title Hell Vilg&#39;
  end
</code></pre>

<p>Lerendereli a begyazott sablon karakerlnct.</p>

<a name='Vltozk%20elrse%20a%20sablonokban'></a>
<h3>Vltozk elrse a sablonokban</h3>

<p>A sablonok ugyanabban a kontextusban kerlnek kirtkelsre, mint az
tvonal metdusok (route handlers). Az tvonal metdusokban megadott
vltozk kzvetlenl elrhetek lesznek a sablonokban:</p>

<pre><code class="ruby">  get &#39;/:id&#39; do
    @foo = Foo.find(params[:id])
    haml &#39;%h1= @foo.name&#39;
  end
</code></pre>

<p>De megadhatod egy loklis vltozkat tartalmaz explicit hash-ben is:</p>

<pre><code class="ruby">  get &#39;/:id&#39; do
    foo = Foo.find(params[:id])
    haml &#39;%h1= foo.name&#39;, :locals =&gt; { :foo =&gt; foo }
  end
</code></pre>

<p>Ezt leginkbb akkor rdemes megtenni, ha partial-eket akarunk renderelni
valamely ms sablonbl.</p>

<a name='Fjlon%20belli%20sablonok'></a>
<h3>Fjlon belli sablonok</h3>

<p>Sablonokat gy is megadhatunk, hogy egyszeren az alkalmazs fjl
vgre begpeljk ket:</p>

<pre><code class="ruby">  require &#39;rubygems&#39;
  require &#39;sinatra&#39;

  get &#39;/&#39; do
    haml :index
  end

  __END__

  @@ layout
  %html
    = yield

  @@ index
  %div.title Hell Vilg!!!!!
</code></pre>

<p>Megjegyzs: azok a fjlon belli sablonok, amelyek az alkalmazs fjl vgre
kerlnek s fggnek a sinatra knyvtrtl, automatikusan betltdnek.
Ha ugyanezt ms alkalmazsfjlban is szeretnd megtenni, hvd meg 
a <tt>use<em>in</em>file_templates!</tt> metdust az adott fjlban.</p>

<a name='Kulcsszavas%20sablonok'></a>
<h3>Kulcsszavas sablonok</h3>

<p>Sablonokat vgl a felsszint <tt>template</tt> metdussal is 
definilhatunk: </p>

<pre><code class="ruby">  template :layout do
    &quot;%html\n  =yield\n&quot;
  end

  template :index do
    &#39;%div.title Hell Vilg!&#39;
  end

  get &#39;/&#39; do
    haml :index
  end
</code></pre>

<p>Ha ltezik &quot;layout&quot; nev sablon, akkor az minden esetben meghvdik, amikor
csak egy sablon renderelsre kerl. A layoutokat ki lehet kapcsolni a
<code>:layout =&gt; false</code> meghvsval.</p>

<pre><code class="ruby">  get &#39;/&#39; do
    haml :index, :layout =&gt; !request.xhr?
  end
</code></pre>

<a name='Helperek'></a>
<h2>Helperek</h2>

<p>Hasznld a fels szint <tt>helpers</tt> metdust azokhoz a helper
fggvnyekhez, amiket az tvonal metdusokban s a sablonokban akarsz
hasznlni:</p>

<pre><code class="ruby">  helpers do
    def bar(name)
      &quot;#{name}bar&quot;
    end
  end

  get &#39;/:name&#39; do
    bar(params[:name])
  end
</code></pre>

<a name='Szrk%20(filters)'></a>
<h2>Szrk (filters)</h2>

<p>Az elszrk (before filter) az adott hvs kontextusban minden egyes
krs alkalmval kirtkeldnek, gy mdosthatjk a krst s a
vlaszt egyarnt. A szrkbe felvett pldnyvltozk elrhetek lesznek
az tvonalakban s a sablonokban is:</p>

<pre><code class="rubu">  before do
    @note = &#39;Cs!&#39;
    request.path_info = &#39;/foo/bar/baz&#39;
  end

  get &#39;/foo/*&#39; do
    @note #=&gt; &#39;Szeva!&#39;
    params[:splat] #=&gt; &#39;bar/baz&#39;
  end
</code></pre>

<p>Az utszrk az egyes krsek utn, az adott krs kontextusban kerlnek
kirtkelsre, gy ezek is kpesek mdostani a krst s a vlaszt egyarnt.
Az elszrkben s vonalakban ltrehozott pldnyvltozk elrhetek lesznek
az utszrk szmra:</p>

<pre><code class="ruby">  after do
    puts response.status
  end
</code></pre>

<a name='Megllts'></a>
<h2>Megllts</h2>

<p>Egy krs szrben vagy tvonalban trtn azonnal blokkolshoz
hasznld a kvetkez parancsot:</p>

<p>halt</p>

<p>A meglltskor egy blokktrzset is megadhatsz ...</p>

<p>halt &#39;ez fog megjelenni a trzsben&#39;</p>

<p>Vagy lltsd be a HTTP sttuszt s a trzset is egyszerre ...</p>

<p>halt 401, &#39;menj innen!&#39;</p>

<a name='Passzols'></a>
<h2>Passzols</h2>

<p>Az tvonalak tovbbadhatjk a vgrehajtst egy msik tvonalnak 
a <code>pass</code> fggvnyhvssal:</p>

<pre><code class="ruby">  get &#39;/guess/:who&#39; do
    pass unless params[:who] == &#39;Frici&#39;
    &quot;Elkaptl!&quot;
  end

  get &#39;/guess/*&#39; do
    &quot;Elhibztl!&quot;
  end
</code></pre>

<p>Az tvonal blokkja azonnal kilp s tadja a vezrlst a kvetkez
illeszked tvonalnak. Ha nem tall megfelel tvonalat, a Sinatra
egy 404-es hibval tr vissza.</p>

<a name='Belltsok'></a>
<h2>Belltsok</h2>

<p>Csak indtskor, de minden krnyezetre rvnyesen fusson le:</p>

<pre><code class="ruby">  configure do
    ...
  end
</code></pre>

<p>Csak akkor fusson le, ha a krnyezet (a RACK_ENV krnyezeti vltozban)
<code>:production</code>-ra van lltva:</p>

<pre><code class="ruby">  configure :production do
    ...
  end
</code></pre>

<p>Csak akkor fusson le, ha a krnyezet <tt>:production</tt> vagy <tt>:test</tt>:</p>

<pre><code class="ruby">  configure :production, :test do
    ...
  end
</code></pre>

<a name='Hibakezels'></a>
<h2>Hibakezels</h2>

<p>A hibakezelk ugyanabban a kontextusban futnak le, mint az tvonalak s
elszrk, ezrt szmukra is elrhetek mindazok a knyvtrak, amelyek
az utbbiak rendelkezsre is llnak; gy pldul a <code>haml</code>, 
az <code>erb</code>, a <code>halt</code> stb.</p>

<a name='Nem%20tallhat'></a>
<h3>Nem tallhat</h3>

<p>Amikor a <code>Sinatra::NotFound</code> kivtel fellp, vagy a vlasz HTTP
sttuszkdja 404-es, mindig a <code>not_found</code> metdus hvdik meg.</p>

<pre><code class="ruby">  not_found do
    &#39;Sehol sem tallom, amit keresel&#39;
  end
</code></pre>

<a name='Hiba'></a>
<h3>Hiba</h3>

<p>Az <code>error</code> metdus hvdik meg olyankor, amikor egy tvonal, blokk vagy
elszr kivtelt vlt ki. A kivtel objektum lehvhat a
<code>sinatra.error</code> Rack vltoztl:</p>

<pre><code class="ruby">  error do
    &#39;Elnzst, de valami szrny hiba lpett fel - &#39; + env[&#39;sinatra.error&#39;].name
  end
</code></pre>

<p>Egyni hibakezels:</p>

<pre><code class="ruby">  error MyCustomError do
    &#39;Szval az van, hogy...&#39; + env[&#39;sinatra.error&#39;].message
  end
</code></pre>

<p>s amikor fellp:</p>

<pre><code class="ruby">  get &#39;/&#39; do
    raise MyCustomError, &#39;valami nem stimmel!&#39;
  end
</code></pre>

<p>Ez fog megjelenni:</p>

<p>Szval az van, hogy... valami nem stimmel!</p>

<p>A Sinatra specilis <code>not_found</code> s <code>error</code> hibakezelket
hasznl, amikor a futtatsi krnyezet fejleszti mdba van kapcsolva.</p>

<a name='Mime%20tpusok'></a>
<h2>Mime tpusok</h2>

<p>A <code>send_file</code> metdus hasznlatakor, vagy statikus fjlok
kiszolglsakor elfordulhat, hogy a Sinatra nem ismeri fel a fjlok
mime tpust. Ilyenkor hasznld a +mime_type+ kapcsolt a fjlkiterjeszts
bevezetshez:</p>

<pre><code class="ruby">  mime_type :foo, &#39;text/foo&#39;
</code></pre>

<a name='Rack%20Middleware'></a>
<h2>Rack Middleware</h2>

<p>A Sinatra egy Ruby keretrendszerek szmra kifejlesztett egyszer s szabvnyos
interfszre, a <a href="http://rack.rubyforge.org/">Rack</a> -re pl. A Rack fejleszti 
szempontbl egyik legrdekesebb jellemzje, hogy tmogatja az gynevezett
&quot;middleware&quot; elnevezs komponenseket, amelyek bekeldnek a szerver s az
alkalmazs kz, gy kpesek megfigyelni s/vagy mdostani a HTTP 
krseket s vlaszokat. Segtsgkkel klnfle, egysgesen mkd
funkcikat pthetnk be rendszernkbe.</p>

<p>A Sinatra keretrendszerben gyerekjtk a Rack middleware-ek behzsa a
<code>use</code> metdus segtsgvel:</p>

<pre><code class="ruby">  require &#39;sinatra&#39;
  require &#39;my_custom_middleware&#39;

  use Rack::Lint
  use MyCustomMiddleware

  get &#39;/hello&#39; do
    &#39;Hell Vilg&#39;
  end
</code></pre>

<p>A <code>use</code> metdus szemantikja megegyezik a 
<a href="http://rack.rubyforge.org/doc/classes/Rack/Builder.html">Rack::Builder</a> DSL-ben
hasznlt +use+ metdusval (az emltett DSL-t leginkbb rackup llomnyokban
hasznljk). Hogy egy pldt emltsnk, a <code>use</code> metdus elfogad 
vltozkat s blokkokat egyarnt, akr kombinlva is ezeket:</p>

<pre><code class="ruby">  use Rack::Auth::Basic do |username, password|
    username == &#39;admin&#39; &amp;&amp; password == &#39;titkos&#39;
  end
</code></pre>

<p>A Rack terjesztssel egy csom alap middleware komponens is rkezik,
amelyekkel a naplzs, URL tvonalak megadsa, autentikci s 
munkamenet-kezels knnyen megvalsthat. A Sinatra ezek kzl elg
sokat automatikusan felhasznl a belltsoktl fggen, gy ezek
explicit betltsvel (+use+) nem kell bajldnod.</p>

<a name='Tesztels'></a>
<h2>Tesztels</h2>

<p>Sinatra teszteket brmely Rack alap tesztel knyvtrral vagy
keretrendszerrel kszthetsz. Mi a <a href="http://gitrdoc.com/brynary/rack-test">Rack::Test</a>
knyvtrat ajnljuk:</p>

<pre><code class="ruby">  require &#39;my_sinatra_app&#39;
  require &#39;rack/test&#39;

  class MyAppTest &lt; Test::Unit::TestCase
    include Rack::Test::Methods

    def app
      Sinatra::Application
    end

    def test_my_default
      get &#39;/&#39;
      assert_equal &#39;Hell Vilg!&#39;, last_response.body
    end

    def test_with_params
      get &#39;/meet&#39;, :name =&gt; &#39;Frici&#39;
      assert_equal &#39;Hell Frici!&#39;, last_response.body
    end

    def test_with_rack_env
      get &#39;/&#39;, {}, &#39;HTTP_USER_AGENT&#39; =&gt; &#39;Songbird&#39;
      assert_equal &quot;Songbird-t hasznlsz!&quot;, last_response.body
    end
  end
</code></pre>

<p>Megjegyzs: A beptett Sinatra::Test s Sinatra::TestHarness osztlyok
a 0.9.2-es kiadstl kezdve elavultnak szmtanak.</p>

<a name='Sinatra::Base%20-%20Middleware-ek,%20knyvtrak%20s%20modulris%20alkalmazsok'></a>
<h2>Sinatra::Base - Middleware-ek, knyvtrak s modulris alkalmazsok</h2>

<p>Az alkalmazst fels szinten pteni megfelelhet mondjuk egy kisebb
app esetn, m kifejezetten krosnak bizonyulhat olyan komolyabb,
jra felhasznlhat komponensek ksztsekor, mint pldul egy Rack
middleware, Rails metal, egyszerbb kiszolgl komponenssel br
knyvtrak vagy ppen Sinatra kiterjesztsek. A fels szint DSL
bepiszktja az Objektum nvteret, radsul kisalkalmazsokra szabott
belltsokat felttelez (gy pldul egyetlen alkalmazsfjl,
<code>./public</code>
s <code>./views</code> knyvtr megltt, naplzst, kivtelkezel oldalt stb.).
Itt jn a kpbe a Sinatra::Base osztly:</p>

<pre><code class="ruby">  require &#39;sinatra/base&#39;

  class MyApp &lt; Sinatra::Base
    set :sessions, true
    set :foo, &#39;bar&#39;

    get &#39;/&#39; do
      &#39;Hell Vilg!&#39;
    end
  end
</code></pre>

<p>A MyApp osztly immr nll Rack komponensknt, mondjuk Rack middleware-knt
vagy alkalmazsknt, esetleg Rails metal-knt is tud mkdni. Kzvetlenl
hasznlhatod (<code>use</code>) vagy futtathatod (<code>run</code>) az osztlyodat egy rackup
konfigurcis llomnyban (<code>config.ru</code>), vagy egy szerverkomponenst
tartalmaz knyvtr vezrlsekor:</p>

<pre><code class="ruby">   MyApp.run! :host =&gt; &#39;localhost&#39;, :port =&gt; 9090
</code></pre>

<p>A Sinatra::Base gyermekosztlyaiban elrhet metdusok egyttal a fels
szint DSL-en keresztl is hozzfrhetk. A legtbb fels szint
alkalmazs talakthat Sinatra::Base alap komponensekk kt lpsben:</p>

<ul>
<li>A fjlban nem a <code>sinatra</code>, hanem a <code>sinatra/base</code> osztlyt kell
beimportlni, mert egybknt az sszes Sinatra DSL metdus a f
nvtrbe kerl.</li>
<li>Az alkalmazs tvonalait, hibakezelit, szrit s belltsait
a Sinatra::Base osztly gyermekosztlyaiban kell megadni.</li>
</ul>

<p>A <code>Sinatra::Base</code> osztly igazbl egy res lap: a legtbb funkci
alapbl ki van kapcsolva, belertve a beptett szervert is. A 
belltsokkal s az egyes kapcsolk hatsval az
<a href="http://sinatra.github.com/configuration.html">Options and Configuration</a> lap
foglalkozik.</p>

<p>Szljegyzet: A Sinatra fels szint DSL-je egy egyszer delegcis
rendszerre pl. A Sinatra::Application osztly - a Sinatra::Base egy
specilis osztlyaknt - fogadja az sszes :get, :put, :post,
:delete, :before, :error, :not_found, :configure s :set zenetet,
ami csak a fels szintre berkezik. rdemes utnanzned a kdban,
mikpp <a href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/main.rb#L25">kerl be</a>
a <a href="http://github.com/sinatra/sinatra/blob/master/lib/sinatra/base.rb#L1064">Sinatra::Delegator mixin</a>
a f nvtrbe.</p>

<a name='Parancssori%20lehetsgek'></a>
<h2>Parancssori lehetsgek</h2>

<p>Sinatra alkalmazsokat kzvetlenl futtathatunk:</p>

<pre><code>  ruby myapp.rb [-h] [-x] [-e ENVIRONMENT] [-p PORT] [-s HANDLER]
</code></pre>

<p>Az albbi kapcsolkat ismeri fel a rendszer:</p>

<p>-h # segtsg
  -p # a port belltsa (alaprtelmezs szerint ez a 4567-es)
  -e # a krnyezet belltsa (alaprtelmezs szerint ez a development)
  -s # a rack szerver/handler belltsa (alaprtelmezetten ez a thin)
  -x # a mutex lock bekapcsolsa (alaprtelmezetten ki van kapcsolva)</p>

<a name='Fejleszti%20vltozat'></a>
<h2>Fejleszti vltozat</h2>

<p>Ha a Sinatra legfrissebb, fejleszti vltozatt szeretnd hasznlni,
kszts egy helyi msolatot s indtsd az alkalmazsodat gy,
hogy a <code>sinatra/lib</code> knyvtr elrhet legyen a 
<code>LOAD_PATH</code>-on:</p>

<pre><code>  cd myapp
  git clone git://github.com/sinatra/sinatra.git
  ruby -Isinatra/lib myapp.rb
</code></pre>

<p>De hozz is adhatod a <tt>sinatra/lib</tt> knyvtrat a <tt>LOAD_PATH</tt>-hoz
az alkalmazsodban:</p>

<pre><code class="ruby">  $LOAD_PATH.unshift File.dirname(__FILE__) + &#39;/sinatra/lib&#39;
  require &#39;rubygems&#39;
  require &#39;sinatra&#39;

  get &#39;/about&#39; do
    &quot;A kvetkez vltozatot futtatom &quot; + Sinatra::VERSION
  end
</code></pre>

<p>A Sinatra frisstst ksbb gy vgezheted el:</p>

<pre><code>  cd myproject/sinatra
  git pull
</code></pre>

<a name='Tovbbi%20informcik'></a>
<h2>Tovbbi informcik</h2>

<ul>
<li><a href="http://sinatra.github.com/">A projekt weboldala</a> - Kiegszt dokumentci,
hrek, hasznos linkek</li>
<li><a href="http://sinatra.github.com/contributing.html">Kzremkds</a> - Hibt talltl?
Segtsgre van szksged? Foltot kldenl be?</li>
<li><a href="http://sinatra.lighthouseapp.com">Lighthouse</a> - Hibakvets s kiadsok</li>
<li><a href="http://twitter.com/sinatra">Twitter</a></li>
<li><a href="http://groups.google.com/group/sinatrarb">Levelezlista</a></li>
<li>[IRC: #sinatra](irc://chat.freenode.net/#sinatra) a http://freenode.net cmen</li>
</ul>
